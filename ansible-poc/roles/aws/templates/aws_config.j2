# AWS CLI Configuration
# Generated by Ansible on {{ ansible_date_time.date }}

[default]
region = {{ aws_default_region | default('us-east-1') }}
output = {{ aws_default_output | default('json') }}

{% if aws_profiles is defined %}
{% for profile in aws_profiles %}
[profile {{ profile.name }}]
region = {{ profile.region | default('us-east-1') }}
output = {{ profile.output | default('json') }}
{% if profile.role_arn is defined %}
role_arn = {{ profile.role_arn }}
source_profile = {{ profile.source_profile | default('default') }}
{% endif %}
{% if profile.sso_start_url is defined %}
sso_start_url = {{ profile.sso_start_url }}
sso_region = {{ profile.sso_region }}
sso_account_id = {{ profile.sso_account_id }}
sso_role_name = {{ profile.sso_role_name }}
{% endif %}

{% endfor %}
{% endif %}
